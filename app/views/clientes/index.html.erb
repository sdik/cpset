<div class="page-header">
  <h1>Clientes cadastrados</h1>
</div>
<!-- Button to trigger modal -->
<% if Cliente.find(:all).size == @clientes.size %>
<a href="#myModal" role="button" class="btn btn-small" data-toggle="modal">Filtrar</a>
<% else %>
<a href="#myModal" role="button" class="btn btn-small btn-danger" data-toggle="modal">Filtrado</a>
<% end %>
<!-- Modal -->
<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h3 id="myModalLabel">Filtrar Registros</h3>
  </div>
  <div class="modal-body">
    <%= search_form_for @search do |f| %>
    <div class="field">
     <%= f.label :nome_cont, "Contendo o nome" %>
     <%= f.text_field :nome_cont %>
   </div>
   </div>
  <div class="modal-footer">
    <%= f.submit "Filtar", :class=>'btn btn-primary' %>
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button> 
  </div>
  <% end %>
</div>

<!-- Fim do Modal-->
<table class="table table-striped table-condensed">
  <tr>
    <th><%= sort_link @search, :nome ,"Nome" %></th>
    <th><%= sort_link @search, :endereco ,"Endereco" %></th>
    <th><%= sort_link @search, :bairro ,"Bairro" %></th>
    <th><%= sort_link @search, :cidade ,"Cidade" %></th>
    <th><%= sort_link @search, :uf ,"UF" %></th>
    <th><%= sort_link @search, :telefone ,"Telefone" %></th>
    <th><%= sort_link @search, :email ,"Email" %></th>
    <th><%= sort_link @search, :contato ,"Contato" %></th>
 </tr>

<% @clientes.each do |cliente| %>
  <tr>
    <td><%= cliente.nome %></td>
    <td><%= cliente.endereco%></td>
    <td><%= cliente.bairro%></td>
    <td><%= cliente.cidade %></td>
    <td><%= cliente.uf %></td>
    <td><%= cliente.telefone%></td>
    <td><%= cliente.email %></td>
    <td><%= cliente.contato %></td>
    <td><%= link_to 'Editar', edit_cliente_path(cliente),:class => "btn btn-mini" %> <%= link_to 'Apagar', cliente, confirm: 'Desejas Apagar?', method: :delete ,:class => 'btn btn-mini btn-danger'%></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'Adicionar Cliente', new_cliente_path, :class => "btn btn-small btn-primary" %>
